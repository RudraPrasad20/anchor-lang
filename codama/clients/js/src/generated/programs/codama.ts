/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  containsBytes,
  fixEncoderSize,
  getBytesEncoder,
  type Address,
  type ReadonlyUint8Array,
} from '@solana/kit';
import { type ParsedSetReviewInstruction } from '../instructions';

export const CODAMA_PROGRAM_ADDRESS =
  '4sjhiC2Yq1uQmt8Hj2r6zJ2z6uRPf5151g68sBDKmZHZ' as Address<'4sjhiC2Yq1uQmt8Hj2r6zJ2z6uRPf5151g68sBDKmZHZ'>;

export enum CodamaAccount {
  ResturantDetails,
}

export function identifyCodamaAccount(
  account: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): CodamaAccount {
  const data = 'data' in account ? account.data : account;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([139, 79, 255, 162, 211, 53, 75, 233])
      ),
      0
    )
  ) {
    return CodamaAccount.ResturantDetails;
  }
  throw new Error(
    'The provided account could not be identified as a codama account.'
  );
}

export enum CodamaInstruction {
  SetReview,
}

export function identifyCodamaInstruction(
  instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): CodamaInstruction {
  const data = 'data' in instruction ? instruction.data : instruction;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([33, 163, 254, 96, 122, 49, 136, 173])
      ),
      0
    )
  ) {
    return CodamaInstruction.SetReview;
  }
  throw new Error(
    'The provided instruction could not be identified as a codama instruction.'
  );
}

export type ParsedCodamaInstruction<
  TProgram extends string = '4sjhiC2Yq1uQmt8Hj2r6zJ2z6uRPf5151g68sBDKmZHZ',
> = {
  instructionType: CodamaInstruction.SetReview;
} & ParsedSetReviewInstruction<TProgram>;
